from flask_sqlalchemy import SQLAlchemyfrom flask import url_forfrom flask_table import Table, Colfrom .views import appimport logging as lgimport pandas as pdimport random# Create database connection objectdb = SQLAlchemy(app)class Equipe(db.Model):    id = db.Column(db.Integer, primary_key=True)    nom = db.Column(db.String(50), nullable=False)    score = db.Column(db.Float(), nullable=False)    def __init__(self, nom, score):        self.nom = nom        self.score = scoreclass Rencontre(db.Model):    id = db.Column(db.Integer, primary_key=True)    tour=db.Column(db.Integer(), nullable=False)    equipe1 = db.Column(db.String(50), nullable=False)    equipe2 = db.Column(db.Integer(), nullable=False)    score1 = db.Column(db.Float(), nullable=True)    score2 =  db.Column(db.Float(), nullable=True)    def __init__(self,tour,equipe1,equipe2):      self.tour=tour      self.equipe1=equipe1      self.equipe2=equipe2def tirage(Rencontre,db):  Rencontre.score1=random.randint(0,200)/10  Rencontre.score2=20-Rencontre.score1  Equipe1=Equipe.query.filter(Equipe.nom==Rencontre.equipe1).first()  Equipe2=Equipe.query.filter(Equipe.nom==Rencontre.equipe2).first()  Equipe1.score+=Rencontre.score1  Equipe2.score+=Rencontre.score2  db.session.commit()def init_db():  # df=pd.read_csv(url_for('static',filename="Scores_WE2.csv"))  df=pd.read_csv("/Users/AVPoly/Documents/Adrien/www/bridge/dn2app/static/Scores_WE2.csv")  df_matches=pd.read_csv("/Users/AVPoly/Documents/Adrien/www/bridge/dn2app/static/Liste_matches.csv")  db.drop_all()  db.create_all()  for index,row in df.iterrows():    db.session.add(Equipe(row["Equipe"],row["Score"]))    db.session.commit()  for index,row in df_matches.iterrows():    db.session.add(Rencontre(row["Tour"],row["Equipe1"],row["Equipe2"]))    db.session.commit()  lg.warning('Database initialized!')